<ion-header>
  <ion-toolbar color="light">
    <ion-title style="font-family: Inter; font-weight: 700; font-size: 20px;">
      Crear cuenta en SouFit
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" style="background: #ffffff;">


  <ion-img src="/assets/icon/SouFitLogo.png" style="width: 80px; height: 80px; display: block; margin: 24px auto;"></ion-img>

  <!-- Nombre -->
  <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 16px;">
    <ion-label position="floating" style="font-family: Inter; font-size: 14px; font-weight: 400; color: #555;">
      Nombre
    </ion-label>
    <ion-input [(ngModel)]="nombre"></ion-input>
  </ion-item>

  <!-- Apellido -->
  <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 16px;">
    <ion-label position="floating" style="font-family: Inter; font-size: 14px; font-weight: 400; color: #555;">
      Apellido
    </ion-label>
    <ion-input [(ngModel)]="apellido"></ion-input>
  </ion-item>

  <!-- Username -->
  <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 16px;">
    <ion-label position="floating" style="font-family: Inter; font-size: 14px; font-weight: 400; color: #555;">
      Nombre de usuario
    </ion-label>
    <ion-input [(ngModel)]="username" placeholder="@usuario_ejemplo"></ion-input>
  </ion-item>


  <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 16px;">
    <ion-label position="floating" style="font-family: Inter; font-size: 14px; font-weight: 400; color: #555;">
      Correo electrónico
    </ion-label>
    <ion-input type="email" [(ngModel)]="email"></ion-input>
  </ion-item>

    <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 16px;">
      <ion-select label="Región" label-placement="floating" [(ngModel)]="id_region" (ionChange)="onRegionChange()">
        <ion-select-option *ngFor="let region of regiones" [value]="region.id_region">
          {{ region.nombre_region }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 16px;">
      <ion-select label="Comuna" label-placement="floating" [(ngModel)]="id_comuna" [disabled]="!id_region">
        <ion-select-option *ngFor="let comuna of comunas" [value]="comuna.id_comuna">
          {{ comuna.nombre_comuna }}
        </ion-select-option>
      </ion-select>
  </ion-item>

  <!-- Fecha de nacimiento con ion-datetime -->
  <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 16px;">
    <ion-label position="stacked" style="font-family: Inter; font-size: 14px; font-weight: 400; color: #555; margin-bottom: 8px;">
      Fecha de nacimiento <span style="color: red;">*</span>
    </ion-label>
    <ion-datetime-button datetime="fecha-nacimiento-datetime"></ion-datetime-button>
    <ion-modal [keepContentsMounted]="true">
      <ng-template>
        <ion-header>
          <ion-toolbar color="primary">
            <ion-title style="font-weight: 600;">Seleccionar Fecha de Nacimiento</ion-title>
            <ion-buttons slot="end">
              <ion-button fill="clear" (click)="cerrarModalFecha()" style="--color: white;">
                Cerrar
              </ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding" style="--padding-start: 16px; --padding-end: 16px; --padding-top: 24px; --padding-bottom: 24px;">
          <div style="display: flex; justify-content: center; align-items: flex-start; min-height: 350px; padding: 20px 0;">
            <ion-datetime
              id="fecha-nacimiento-datetime"
              [(ngModel)]="fecha_nacimiento"
              presentation="date"
              [max]="fechaMaxima"
              [min]="fechaMinima"
              [showDefaultButtons]="true"
              [showDefaultTitle]="true"
              [showClearButton]="true"
              [preferWheel]="false"
              style="width: 100%; max-width: 420px; --background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
            ></ion-datetime>
          </div>
        </ion-content>
        <ion-footer>
          <ion-toolbar>
            <ion-buttons slot="end" style="padding: 8px 16px;">
              <ion-button (click)="cerrarModalFecha()" fill="solid" color="primary" style="--border-radius: 8px; font-weight: 600; min-width: 120px;">
                Confirmar
              </ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-footer>
      </ng-template>
    </ion-modal>
  </ion-item>

  <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 16px;">
    <ion-label position="floating" style="font-family: Inter; font-size: 14px; font-weight: 400; color: #555;">
      Contraseña
    </ion-label>
    <ion-input type="password" [(ngModel)]="password"></ion-input>
  </ion-item>

  <ion-item style="border-radius: 10px; border: 1px solid #E0E0E0; margin-bottom: 24px;">
    <ion-label position="floating" style="font-family: Inter; font-size: 14px; font-weight: 400; color: #555;">
      Confirmar contraseña
    </ion-label>
    <ion-input type="password" [(ngModel)]="confirmPassword"></ion-input>
  </ion-item>


  <ion-item lines="none" style="margin-bottom: 24px;">
    <ion-checkbox slot="start" [(ngModel)]="acceptTerms"></ion-checkbox>
    <ion-text style="font-family: Inter; font-size: 14px; color: #333;">
      Acepto los <span style="color: #3B82F6; font-weight: 600;">términos y condiciones</span>
    </ion-text>
  </ion-item>

  
  <ion-button expand="block" style="background-color: #8B0000; border-radius: 12px; height: 50px; font-family: Inter; font-size: 16px; font-weight: 600;" (click)="createAccount()">
    Crear cuenta
  </ion-button>

</ion-content>
